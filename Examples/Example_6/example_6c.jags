model{
  # Data distribution
  for(i in 1:(M+n)){
      alive[i] ~ dbern(psi)
      for(k in 1:K){
        caps[i,k] ~ dbern(alive[i] * p[k])
      }
  }
  
  # Prior distribution
  for(k in 1:K){
    p[k] ~ dbeta(alpha,beta)
  }
  alpha ~ dgamma(.1,.1)
  beta ~ dgamma(.1,.1)
  
  psi ~ dunif(0,1)
  
  # Derived variables
  N <- sum(alive[1:(M+n)])
}
